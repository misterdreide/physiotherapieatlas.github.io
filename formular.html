<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link href='https://fonts.googleapis.com/css?family=Lunasima' rel='stylesheet'>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" type="images/simplelogo" href="images/logostart.jpg" />
    
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <script>
        window.addEventListener("load", () => {
          console.log("This function is executed once the page is fully loaded");
        });
            // Initialization for ES Users
        import { Input, Ripple, initMDB } from "mdb-ui-kit";

        initMDB({ Input, Ripple });
      </script>



    <title>Atlas Physiotherapie</title>

</head>

<body>

<main>  

<div class="note">

  <h2>Kontaktformular</h2>
  <br>
<p>Füllen Sie bitte das untenstehende Formular aus und beachten Sie die Datenschutzerklärung.</p>


<br>


<form action="https://formspree.io/f/mjkvjoqb"
  method="POST"
 <!-- Vorname -->
  <label for="firstName">Vorname:</label>
  <input type="text" id="firstName" name="firstName" required>
  <span class="error" id="firstNameError">Bitte geben Sie Ihren Vornamen ein.</span>

  <!-- Name -->
  <label for="lastName">Name:</label>
  <input type="text" id="lastName" name="lastName" required>
  <span class="error" id="lastNameError">Bitte geben Sie Ihren Nachnamen ein.</span>

  <!-- E-Mail -->
  <label for="email">E-Mail:</label>
  <input type="email" id="email" name="email" required>
  <span class="error" id="emailError">Bitte geben Sie eine gültige E-Mail-Adresse ein.</span>

  <!-- Mobil/Festnetznummer -->
  <label for="phone">Mobil/Festnetznummer:</label>
  <input type="text" id="phone" name="phone" required>
  <span class="error" id="phoneError">Bitte geben Sie Ihre Telefonnummer ein.</span>


  <!-- Dropdownmenü -->
  <label for="options">Wählen Sie eine Behandlungsoption:</label>
  <select id="options" name="options" required>
    <option value="">Bitte wählen...</option>
    <option value="MLD">Manuelle Lymphdrainage (MLD)</option>
    <option value="KG">Krankengymnastik (KG)</option>
    <option value="WT">Wärmetherapie (WT)</option>
    <option value="KMT">Klassische Massagetherapie (KMT)</option>
    <option value="Massage25">Massage ohne Verordnung (25 min)</option>
    <option value="ohne Angabe">keine Angabe</option>
  </select>
  <span class="error" id="optionsError">Bitte wählen Sie eine Option aus.</span>
  <br>
  <br>
  
  <h5>Einwilligung zur Datenverarbeitung</h5>
  <p style="font-size: 1rem;">
    Um das Kontaktformular zu senden, müssen Sie der Verarbeitung Ihrer Daten zustimmen. Weitere Hinweise finden Sie in unserer Datenschutzerklärung oder untenstehend.
  </p>

  <label>
    <input type="checkbox" name="consent" required> Ich stimme zu, dass meine Daten durch Formspree verarbeitet werden.
  </label>

  <br><br>

  <!-- Absenden -->
  <button type="submit" class="btn btn-info">Absenden</button>
</form>

<br>

<h1>Verwendung von Formspree</h1>
<p>
   Diese Webseite nutzt den Dienst **Formspree** zur Verarbeitung der in diesem Kontaktformular eingegebenen Daten. Ihre Daten werden ausschließlich zur Bearbeitung Ihrer Anfrage verwendet und können auf Servern in den USA gespeichert werden. 
</p>
<p>
   Wir haben die Datenschutzbestimmungen von Formspree überprüft. Beachten Sie, dass Formspree die Daten möglicherweise auf Servern außerhalb der EU verarbeitet, insbesondere in den USA. Weitere Informationen zur Verarbeitung Ihrer Daten finden Sie in der Datenschutzerklärung von Formspree: <a href="https://formspree.io/privacy" target="_blank" rel="noopener noreferrer">https://formspree.io/privacy</a>.
</p>
</div>
</main>


<!--Impressum-->
<footer class="bg-dark text-white">
  <!-- Impressum und Datenschutz -->
    <div class="container-fluid">
    <h2>
      <a href="impressum.html" class="footer-link">Impressum</a>  | 
      <a href="datenschutz.html" class="footer-link">Datenschutz</a>
    </h2>
    </div>
    <div class="border-bottom border-white my-3" style="font-size: 4rem;"></div>
  

  <!-- Footer-Inhalte -->
  <div class="container">
    <div class="row text-center">
      <!-- Unternehmensinformationen -->
      <div class="col-md-4">
        <img src="images/logotransp.png" width="80" height="80" class="mb-3" alt="Logo">
        <h4>Physiotherapie ATLAS</h4>
        <p>Hauptstraße 32<br>25885 Wester-Ohrstedt</p>
      </div>

      <!-- Google Maps -->
      <div class="col-md-4">
        <!--
        <iframe 
          src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2314.5401876645883!2d9.160050277244407!3d54.54160237266004!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x47b37c3dc19b8c3b%3A0xc3fd1063952b8f3a!2sHauptstra%C3%9Fe%2032%2C%2025885%20Wester-Ohrstedt!5e0!3m2!1sde!2sde!4v1728334939405!5m2!1sde!2sde"
          style="border:0;" allowfullscreen="" loading="lazy"></iframe>
        -->
      </div>

      <!-- Social Media Links -->
      <div class="col-md-4">
        <div class="d-flex flex-column align-items-center">
          <div class="social-container mb-3">
            <a href="https://www.instagram.com/physiotherapieatlas/" class="social-icon instagram-icon mb-2">
              <i class="bi bi-instagram"></i>
            </a>
            <h5 class="social-text">instagram/PhysiotherapieATLAS</h5>
          </div>

          <div class="social-container mb-3">
            <a href="https://www.facebook.com/profile.php?id=61568177827177" class="social-icon facebook-icon mb-2">
              <i class="bi bi-facebook"></i>
            </a>
            <h5 class="social-text">facebook/PhysiotherapieATLAS</h5>
          </div>

          <div class="social-container">
            <a href="https://www.youtube.com/watch?v=ta5QO8DHuDE" class="social-icon youtube-icon mb-2">
              <i class="bi bi-youtube"></i>
            </a>
            <h5 class="social-text">youtube/PhysiotherapieATLAS</h5>
          </div>
        </div>
      </div>
    </div>
  </div>

</footer>
<script>
  const form = document.getElementById('contactForm');
  const errors = {
    firstName: document.getElementById('firstNameError'),
    lastName: document.getElementById('lastNameError'),
    email: document.getElementById('emailError'),
    phone: document.getElementById('phoneError'),
    options: document.getElementById('optionsError'),
  };

  const emailPattern = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/; // E-Mail Regex
  const germanPhonePattern = /^(\+49|0)[1-9][0-9]{6,}$/; // Telefonnummern-Muster für Deutschland

  form.addEventListener('submit', function (event) {
    let isValid = true;
    const phone = form.phone.value.trim();

    // Überprüft die Felder
    if (!form.firstName.value.trim()) {
      errors.firstName.style.display = 'block';
      isValid = false;
    } else {
      errors.firstName.style.display = 'none';
    }

    if (!form.lastName.value.trim()) {
      errors.lastName.style.display = 'block';
      isValid = false;
    } else {
      errors.lastName.style.display = 'none';
    }

    // E-Mail-Validierung
    var email = form.email.value.trim();
    var errorsEmail = document.getElementById('emailError');
    if (!email || !emailPattern.test(email)) {
      errorsEmail.style.display = 'block'; // Zeige Fehlernachricht
      isValid = false;
    } else {
      errorsEmail.style.display = 'none'; // Verstecke Fehlernachricht
    }


      // Telefonnummern-Validierung
      if (!germanPhonePattern.test(phone)) {
        phoneError.style.display = 'block'; // Zeige Fehlernachricht
        isValid = false;
      } else {
        phoneError.style.display = 'none'; // Verstecke Fehlernachricht
      }


    // Optionen-Validierung
    var options = form.options.value;
    var errorsOptions = document.getElementById('optionsError');
    if (!options) {
      errorsOptions.style.display = 'block'; // Zeige Fehlernachricht
      isValid = false;
    } else {
      errorsOptions.style.display = 'none'; // Verstecke Fehlernachricht
    }

    // Wenn irgendetwas ungültig ist, verhindere das Absenden des Formulars
    if (!isValid) {
      event.preventDefault(); // Verhindert das Absenden des Formulars
    } else {
      // Wenn die Validierung erfolgreich war, sende die Anfrage an Formspree
      const formData = new FormData(form);

      fetch(form.action, {
        method: 'POST',
        body: formData,
      })
      .then(response => {
        if (response.ok) {
          alert('Formular wurde erfolgreich gesendet.');
        } else {
          alert('Es gab einen Fehler beim Absenden des Formulars.');
        }
      })
      .catch(error => {
        alert('Es gab einen Fehler beim Absenden des Formulars.');
      });
    }
  });
</script>
  
</body>
</html>